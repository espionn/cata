{"version":3,"file":"sim-BEMzROm1.chunk.js","sources":["../../../ui/death_knight/unholy/presets.ts","../../../ui/death_knight/unholy/sim.ts"],"sourcesContent":["import * as PresetUtils from '../../core/preset_utils';\nimport { Consumes, Explosive, Flask, Food, Glyphs, PetFood, Potions, UnitReference } from '../../core/proto/common';\nimport { DeathKnightMajorGlyph, DeathKnightMinorGlyph, DeathKnightPrimeGlyph, UnholyDeathKnight_Options } from '../../core/proto/death_knight';\nimport { SavedTalents } from '../../core/proto/ui';\nimport SingleTargetApl from '../../death_knight/unholy/apls/st.apl.json'\nimport P1Gear from '../../death_knight/unholy/gear_sets/p1.gear.json'\n\n// Preset options for this spec.\n// Eventually we will import these values for the raid sim too, so its good to\n// keep them in a separate file.\n\nexport const P1_GEAR_PRESET = PresetUtils.makePresetGear('P1', P1Gear);\n\nexport const SINGLE_TARGET_ROTATION_PRESET_DEFAULT = PresetUtils.makePresetAPLRotation('Single Target', SingleTargetApl);\n\nexport const AOE_ROTATION_PRESET_DEFAULT = PresetUtils.makePresetAPLRotation('AoE', SingleTargetApl);\n\n// Default talents. Uses the wowhead calculator format, make the talents on\n// https://wotlk.wowhead.com/talent-calc and copy the numbers in the url.\n\nexport const SingleTargetTalents = {\n\tname: 'Single Target',\n\tdata: SavedTalents.create({\n\t\ttalentsString: '2031--13300321230331121231',\n\t\tglyphs: Glyphs.create({\n\t\t\tprime1: DeathKnightPrimeGlyph.GlyphOfDeathCoil,\n\t\t\tprime2: DeathKnightPrimeGlyph.GlyphOfScourgeStrike,\n\t\t\tprime3: DeathKnightPrimeGlyph.GlyphOfRaiseDead,\n\t\t\tmajor1: DeathKnightMajorGlyph.GlyphOfPestilence,\n\t\t\tmajor2: DeathKnightMajorGlyph.GlyphOfBloodBoil,\n\t\t\tmajor3: DeathKnightMajorGlyph.GlyphOfAntiMagicShell,\n\t\t\tminor1: DeathKnightMinorGlyph.GlyphOfDeathGate,\n\t\t\tminor2: DeathKnightMinorGlyph.GlyphOfPathOfFrost,\n\t\t\tminor3: DeathKnightMinorGlyph.GlyphOfHornOfWinter,\n\t\t}),\n\t}),\n};\n\nexport const AoeTalents = {\n\tname: 'AOE',\n\tdata: SavedTalents.create({\n\t\t// talentsString: '-320050500002-2302303050032052000150013133151',\n\t\t// glyphs: Glyphs.create({\n\t\t// \tmajor1: DeathKnightMajorGlyph.GlyphOfTheGhoul,\n\t\t// \tmajor2: DeathKnightMajorGlyph.GlyphOfIcyTouch,\n\t\t// \tmajor3: DeathKnightMajorGlyph.GlyphOfDeathAndDecay,\n\t\t// \tminor1: DeathKnightMinorGlyph.GlyphOfHornOfWinter,\n\t\t// \tminor2: DeathKnightMinorGlyph.GlyphOfPestilence,\n\t\t// \tminor3: DeathKnightMinorGlyph.GlyphOfRaiseDead,\n\t\t// }),\n\t}),\n};\n\nexport const DefaultOptions = UnholyDeathKnight_Options.create({\n\tclassOptions: {\n\t\tstartingRunicPower: 0,\n\t\tpetUptime: 1,\n\t},\n\tunholyFrenzyTarget: UnitReference.create(),\n});\n\nexport const OtherDefaults = {};\n\nexport const DefaultConsumes = Consumes.create({\n\tflask: Flask.FlaskOfTitanicStrength,\n\tfood: Food.FoodBeerBasedCrocolisk,\n\tdefaultPotion: Potions.GolembloodPotion,\n\tpetFood: PetFood.PetFoodSpicedMammothTreats,\n\tprepopPotion: Potions.GolembloodPotion,\n\tthermalSapper: true,\n\tfillerExplosive: Explosive.ExplosiveSaroniteBomb,\n});\n","import * as BuffDebuffInputs from '../../core/components/inputs/buffs_debuffs';\nimport * as OtherInputs from '../../core/components/other_inputs';\nimport { IndividualSimUI, registerSpecConfig } from '../../core/individual_sim_ui';\nimport { Player } from '../../core/player';\nimport { PlayerClasses } from '../../core/player_classes';\nimport { APLRotation } from '../../core/proto/apl';\nimport {\n\tDebuffs,\n\tFaction,\n\tHandType,\n\tIndividualBuffs,\n\tItemSlot,\n\tPartyBuffs,\n\tPseudoStat,\n\tRace,\n\tRaidBuffs,\n\tSpec,\n\tStat,\n\tTristateEffect,\n} from '../../core/proto/common';\nimport { Stats } from '../../core/proto_utils/stats';\nimport * as DeathKnightInputs from '../inputs';\nimport * as UnholyInputs from './inputs';\nimport * as Presets from './presets';\n\nconst SPEC_CONFIG = registerSpecConfig(Spec.SpecUnholyDeathKnight, {\n\tcssClass: 'unholy-death-knight-sim-ui',\n\tcssScheme: PlayerClasses.getCssClass(PlayerClasses.DeathKnight),\n\t// List any known bugs / issues here and they'll be shown on the site.\n\tknownIssues: [],\n\n\t// All stats for which EP should be calculated.\n\tepStats: [\n\t\tStat.StatStrength,\n\t\tStat.StatArmor,\n\t\tStat.StatAttackPower,\n\t\tStat.StatExpertise,\n\t\tStat.StatMeleeHit,\n\t\tStat.StatMeleeCrit,\n\t\tStat.StatMeleeHaste,\n\t\tStat.StatMastery,\n\t\tStat.StatSpellHit,\n\t\tStat.StatSpellCrit,\n\t\tStat.StatArmorPenetration,\n\t],\n\tepPseudoStats: [PseudoStat.PseudoStatMainHandDps, PseudoStat.PseudoStatOffHandDps],\n\t// Reference stat against which to calculate EP. I think all classes use either spell power or attack power.\n\tepReferenceStat: Stat.StatAttackPower,\n\t// Which stats to display in the Character Stats section, at the bottom of the left-hand sidebar.\n\tdisplayStats: [\n\t\tStat.StatHealth,\n\t\tStat.StatArmor,\n\t\tStat.StatStrength,\n\t\tStat.StatSpellHit,\n\t\tStat.StatSpellCrit,\n\t\tStat.StatAttackPower,\n\t\tStat.StatMeleeHit,\n\t\tStat.StatMeleeCrit,\n\t\tStat.StatMeleeHaste,\n\t\tStat.StatMastery,\n\t\tStat.StatExpertise,\n\t],\n\tdefaults: {\n\t\t// Default equipped gear.\n\t\tgear: Presets.P1_GEAR_PRESET.gear,\n\t\t// Default EP weights for sorting gear in the gear picker.\n\t\tepWeights: Stats.fromMap(\n\t\t\t{\n\t\t\t\t[Stat.StatStrength]: 3.22,\n\t\t\t\t[Stat.StatArmor]: 0.01,\n\t\t\t\t[Stat.StatAttackPower]: 1,\n\t\t\t\t[Stat.StatExpertise]: 1.13,\n\t\t\t\t[Stat.StatMeleeHaste]: 1.85,\n\t\t\t\t[Stat.StatMeleeHit]: 1.92,\n\t\t\t\t[Stat.StatMeleeCrit]: 0.76,\n\t\t\t\t[Stat.StatArmorPenetration]: 0.77,\n\t\t\t\t[Stat.StatSpellHit]: 0.8,\n\t\t\t\t[Stat.StatSpellCrit]: 0.34,\n\t\t\t},\n\t\t\t{\n\t\t\t\t[PseudoStat.PseudoStatMainHandDps]: 3.1,\n\t\t\t\t[PseudoStat.PseudoStatOffHandDps]: 1.79,\n\t\t\t},\n\t\t),\n\t\t// Default consumes settings.\n\t\tconsumes: Presets.DefaultConsumes,\n\t\t// Default talents.\n\t\ttalents: Presets.SingleTargetTalents.data,\n\t\t// Default spec-specific settings.\n\t\tspecOptions: Presets.DefaultOptions,\n\t\t// Default raid/party buffs settings.\n\t\traidBuffs: RaidBuffs.create({\n\t\t\tdevotionAura: true,\n\t\t\tbloodlust: true,\n\t\t\tmarkOfTheWild: true,\n\t\t\ticyTalons: true,\n\t\t\tleaderOfThePack: true,\n\t\t\tpowerWordFortitude: true,\n\t\t\thornOfWinter: true,\n\t\t\tabominationsMight: true,\n\t\t\tarcaneTactics: true,\n\t\t}),\n\t\tpartyBuffs: PartyBuffs.create({}),\n\t\tindividualBuffs: IndividualBuffs.create({\n\t\t}),\n\t\tdebuffs: Debuffs.create({\n\t\t\tsunderArmor: true,\n\t\t\tbrittleBones: true,\n\t\t\tebonPlaguebringer: true,\n\t\t\tshadowAndFlame: true\n\t\t}),\n\t},\n\n\tautoRotation: (player: Player<Spec.SpecUnholyDeathKnight>): APLRotation => {\n\t\tconst numTargets = player.sim.encounter.targets.length;\n\t\tif (numTargets > 1) {\n\t\t\treturn Presets.AOE_ROTATION_PRESET_DEFAULT.rotation.rotation!;\n\t\t} else {\n\t\t\treturn Presets.SINGLE_TARGET_ROTATION_PRESET_DEFAULT.rotation.rotation!;\n\t\t}\n\t},\n\n\t// IconInputs to include in the 'Player' section on the settings tab.\n\tplayerIconInputs: [],\n\tpetConsumeInputs: [],\n\t// Buff and Debuff inputs to include/exclude, overriding the EP-based defaults.\n\tincludeBuffDebuffInputs: [\n\t\tBuffDebuffInputs.SpellDamageDebuff\n\t],\n\texcludeBuffDebuffInputs: [\n\t\tBuffDebuffInputs.DamageReduction,\n\t\tBuffDebuffInputs.MeleeAttackSpeedDebuff,\n\t\tBuffDebuffInputs.BleedDebuff\n\t],\n\t// Inputs to include in the 'Other' section on the settings tab.\n\totherInputs: {\n\t\tinputs: [\n\t\t\t// DeathKnightInputs.StartingRunicPower(),\n\t\t\t// DeathKnightInputs.PetUptime(),\n\t\t\t// UnholyInputs.SelfUnholyFrenzy,\n\t\t\t// UnholyInputs.UseAMSInput,\n\t\t\t// UnholyInputs.AvgAMSSuccessRateInput,\n\t\t\t// UnholyInputs.AvgAMSHitInput,\n\t\t\t// OtherInputs.TankAssignment,\n\t\t\t// OtherInputs.InFrontOfTarget,\n\t\t\tOtherInputs.DarkIntentUptime\n\t\t],\n\t},\n\titemSwapSlots: [ItemSlot.ItemSlotMainHand, ItemSlot.ItemSlotOffHand],\n\tencounterPicker: {\n\t\t// Whether to include 'Execute Duration (%)' in the 'Encounter' section of the settings tab.\n\t\tshowExecuteProportion: false,\n\t},\n\n\tpresets: {\n\t\t// Preset talents that the user can quickly select.\n\t\ttalents: [\n\t\t\tPresets.SingleTargetTalents,\n\t\t\t//Presets.AoeTalents,\n\t\t],\n\t\t// Preset rotations that the user can quickly select.\n\t\trotations: [\n\t\t\tPresets.SINGLE_TARGET_ROTATION_PRESET_DEFAULT,\n\t\t\t//Presets.AOE_ROTATION_PRESET_DEFAULT,\n\t\t],\n\t\t// Preset gear configurations that the user can quickly select.\n\t\tgear: [\n\t\t\tPresets.P1_GEAR_PRESET,\n\t\t],\n\t},\n\n\traidSimPresets: [\n\t\t{\n\t\t\tspec: Spec.SpecUnholyDeathKnight,\n\t\t\ttalents: Presets.SingleTargetTalents.data,\n\t\t\tspecOptions: Presets.DefaultOptions,\n\t\t\tconsumes: Presets.DefaultConsumes,\n\t\t\tdefaultFactionRaces: {\n\t\t\t\t[Faction.Unknown]: Race.RaceUnknown,\n\t\t\t\t[Faction.Alliance]: Race.RaceHuman,\n\t\t\t\t[Faction.Horde]: Race.RaceTroll,\n\t\t\t},\n\t\t\tdefaultGear: {\n\t\t\t\t[Faction.Unknown]: {},\n\t\t\t\t[Faction.Alliance]: {\n\t\t\t\t\t1: Presets.P1_GEAR_PRESET.gear,\n\t\t\t\t\t2: Presets.P1_GEAR_PRESET.gear,\n\t\t\t\t\t3: Presets.P1_GEAR_PRESET.gear,\n\t\t\t\t\t4: Presets.P1_GEAR_PRESET.gear,\n\t\t\t\t},\n\t\t\t\t[Faction.Horde]: {\n\t\t\t\t\t1: Presets.P1_GEAR_PRESET.gear,\n\t\t\t\t\t2: Presets.P1_GEAR_PRESET.gear,\n\t\t\t\t\t3: Presets.P1_GEAR_PRESET.gear,\n\t\t\t\t\t4: Presets.P1_GEAR_PRESET.gear,\n\t\t\t\t},\n\t\t\t},\n\t\t\totherDefaults: Presets.OtherDefaults,\n\t\t},\n\t],\n});\n\nexport class UnholyDeathKnightSimUI extends IndividualSimUI<Spec.SpecUnholyDeathKnight> {\n\tconstructor(parentElem: HTMLElement, player: Player<Spec.SpecUnholyDeathKnight>) {\n\t\tsuper(parentElem, player, SPEC_CONFIG);\n\t}\n}\n"],"names":["P1_GEAR_PRESET","PresetUtils.makePresetGear","SINGLE_TARGET_ROTATION_PRESET_DEFAULT","PresetUtils.makePresetAPLRotation","SingleTargetApl","AOE_ROTATION_PRESET_DEFAULT","SingleTargetTalents","name","data","SavedTalents","create","talentsString","glyphs","Glyphs","prime1","DeathKnightPrimeGlyph","GlyphOfDeathCoil","prime2","GlyphOfScourgeStrike","prime3","GlyphOfRaiseDead","major1","DeathKnightMajorGlyph","GlyphOfPestilence","major2","GlyphOfBloodBoil","major3","GlyphOfAntiMagicShell","minor1","DeathKnightMinorGlyph","GlyphOfDeathGate","minor2","GlyphOfPathOfFrost","minor3","GlyphOfHornOfWinter","DefaultOptions","UnholyDeathKnight_Options","classOptions","startingRunicPower","petUptime","unholyFrenzyTarget","UnitReference","DefaultConsumes","Consumes","flask","Flask","FlaskOfTitanicStrength","food","Food","FoodBeerBasedCrocolisk","defaultPotion","Potions","GolembloodPotion","petFood","PetFood","PetFoodSpicedMammothTreats","prepopPotion","thermalSapper","fillerExplosive","Explosive","ExplosiveSaroniteBomb","SPEC_CONFIG","registerSpecConfig","Spec","SpecUnholyDeathKnight","cssClass","cssScheme","PlayerClasses","getCssClass","DeathKnight","knownIssues","epStats","Stat","StatStrength","StatArmor","StatAttackPower","StatExpertise","StatMeleeHit","StatMeleeCrit","StatMeleeHaste","StatMastery","StatSpellHit","StatSpellCrit","StatArmorPenetration","epPseudoStats","PseudoStat","PseudoStatMainHandDps","PseudoStatOffHandDps","epReferenceStat","displayStats","StatHealth","defaults","gear","Presets.P1_GEAR_PRESET","epWeights","Stats","fromMap","consumes","Presets.DefaultConsumes","talents","Presets.SingleTargetTalents","specOptions","Presets.DefaultOptions","raidBuffs","RaidBuffs","devotionAura","bloodlust","markOfTheWild","icyTalons","leaderOfThePack","powerWordFortitude","hornOfWinter","abominationsMight","arcaneTactics","partyBuffs","PartyBuffs","individualBuffs","IndividualBuffs","debuffs","Debuffs","sunderArmor","brittleBones","ebonPlaguebringer","shadowAndFlame","autoRotation","player","sim","encounter","targets","length","Presets.AOE_ROTATION_PRESET_DEFAULT","rotation","Presets.SINGLE_TARGET_ROTATION_PRESET_DEFAULT","playerIconInputs","petConsumeInputs","includeBuffDebuffInputs","BuffDebuffInputs.SpellDamageDebuff","excludeBuffDebuffInputs","BuffDebuffInputs.DamageReduction","BuffDebuffInputs.MeleeAttackSpeedDebuff","BuffDebuffInputs.BleedDebuff","otherInputs","inputs","OtherInputs.DarkIntentUptime","itemSwapSlots","ItemSlot","ItemSlotMainHand","ItemSlotOffHand","encounterPicker","showExecuteProportion","presets","rotations","raidSimPresets","spec","defaultFactionRaces","Faction","Unknown","Race","RaceUnknown","Alliance","RaceHuman","Horde","RaceTroll","defaultGear","otherDefaults","UnholyDeathKnightSimUI","IndividualSimUI","constructor","parentElem","super"],"mappings":"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"}